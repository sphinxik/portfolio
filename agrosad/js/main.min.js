(()=>{"use strict";function a(){let a=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${a}px`)}function b(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:400;const b=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(0<t.length)for(let a=0;a<t.length;a++)t[a].style.paddingRight=b;s.style.paddingRight=b,s.classList.add("_locked"),u=!1,setTimeout(function(){u=!0},a)}function c(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:400;setTimeout(()=>{if(0<t.length)for(let a=0;a<t.length;a++)t[a].style.paddingRight="0px";s.style.paddingRight="0px",s.classList.remove("_locked")},a),u=!1,setTimeout(function(){u=!0},a)}function d(){var a=document.createElement("script");a.src="js/libs/maska.min.js",a.onload=function(){Maska.create("input[type=\"tel\"]",{mask:"+38 ### ###-##-##"}),window.removeEventListener("click",d)},document.body.appendChild(a)}function e(){function a(){const a=f.querySelectorAll("._submenu._active"),b=f.querySelector("._menu-scroll");b&&(b.scrollTo(0,0),b.classList.remove("_menu-scroll")),a.length?a[a.length-1].classList.add("_menu-scroll"):f.removeAttribute("style")}const d=document.querySelector(".header-burger"),e=document.querySelector(".menu-wrapper"),f=e.querySelector(".menu"),g=document.querySelector("[data-menu-close]");d.addEventListener("click",function(){d.classList.toggle("_active"),e.classList.toggle("_active"),e.classList.contains("_active")?b(200):c(200)}),g.addEventListener("click",()=>{d.classList.remove("_active"),e.classList.remove("_active")}),f.addEventListener("click",function(b){const c=b.target;if(c&&c.closest(".submenu-open__btn")){const b=c.closest("._has-submenu");b.querySelector("._submenu").classList.add("_active"),a()}if(c&&c.closest(".menu-back__btn")){const b=f.querySelectorAll("._submenu._active");b.length&&(b[b.length-1].classList.remove("_active"),a())}})}function f(){const a=document.querySelector(".header-contacts__trigger");if(a){const b=document.querySelector(".header-contacts");a.addEventListener("click",()=>{a.classList.toggle("_active"),b.classList.toggle("_active")})}}function g(){const a=document.querySelectorAll("[data-animate-number]");if(a){function b(a,b){const c=parseInt(a.getAttribute("data-animate-number"));let d=0;const e=f=>{d||(d=f);const g=Math.min((f-d)/b,1);a.textContent=Math.floor(g*(0+c)),1>g&&window.requestAnimationFrame(e)};window.requestAnimationFrame(e)}let c=new IntersectionObserver((a,c)=>{a.forEach(a=>{a.isIntersecting&&(b(a.target,1e3),c.unobserve(a.target))})},{threshold:.3});a.forEach(a=>{c.observe(a)})}}function h(){const a=document.querySelectorAll("[data-popup-open]");if(a){function d(a){if(a&&u){const c=document.querySelector(".popup._active");c?f(c,!1):b(i),a.classList.add("_active"),a.addEventListener("click",function(a){a.target.closest(".popup-content")||f(a.target.closest(".popup"))})}}function f(a){let b=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(u){a.classList.remove("_active");let d=document.querySelectorAll(".video-iframe");for(let a=0;a<d.length;a++)d[a].remove();b&&c(i)}}function g(a,b){const c=a.closest("[data-product]"),d=c.querySelector("[data-product-title]").textContent.trim(),e=c.querySelector("[data-product-price]").textContent.trim(),f=b.querySelector("[data-product-title]"),g=b.querySelector("[data-product-price]"),h=b.querySelector("[data-product-input]");f.textContent=d,g.textContent=e,h.value=d}const h=document.querySelectorAll("[data-popup-close]"),i=400;if(0<a.length)for(let b=0;b<a.length;b++)a[b].addEventListener("click",function(a){a.preventDefault();const b=this.dataset.popupOpen,c=document.getElementById(b);c&&(d(c),"popup-order"===b&&g(this,c))});if(0<h.length)for(let a=0;a<h.length;a++){const b=h[a];b.addEventListener("click",function(a){a.preventDefault(),f(this.closest(".popup"))})}document.addEventListener("keydown",function(a){if(27===a.which){const a=document.querySelector(".popup._active");a&&f(a)}})}}function j(){const a=document.querySelectorAll("[data-accordeon]");if(a){function b(a){const b=a.querySelectorAll("[data-accordeon-btn]");b.forEach(a=>{a.nextElementSibling.style.height=a.classList.contains("_active")?a.nextElementSibling.scrollHeight+"px":"0px"})}a.forEach(a=>{b(a),a.addEventListener("click",a=>{let b=a.target;b&&b.closest("[data-accordeon-btn]")&&(b=b.closest("[data-accordeon-btn]"),b.classList.toggle("_active"),b.nextElementSibling.style.height=b.classList.contains("_active")?b.nextElementSibling.scrollHeight+"px":"0px")})})}}function k(){const a=document.querySelector(".catalog-sidebar");if(a){const d=document.querySelector(".catalog-sidebar__btn-open"),e=document.querySelector(".catalog-sidebar__btn-close");d.addEventListener("click",()=>{a.classList.add("_active"),b(200)}),e.addEventListener("click",()=>{a.classList.remove("_active"),c(200)})}}function l(){const a=document.querySelector(".products-slider");if(a){const b=new Splide(a,{perPage:1,perMove:1,rewind:!0,arrows:!0,pagination:!0,snap:!0,mediaQuery:"min",breakpoints:{0:{perPage:1,gap:8},576:{perPage:2,gap:8},768:{perPage:3,gap:8},992:{perPage:3},1200:{perPage:4}}});b.mount()}const b=document.querySelector(".services-slider");if(b){const a=new Splide(b,{perPage:1,perMove:1,rewind:!0,arrows:!0,pagination:!1,snap:!0,mediaQuery:"min",breakpoints:{0:{perPage:1,gap:8},576:{perPage:2,gap:8},768:{perPage:2,gap:20},992:{perPage:3,gap:0}}});a.mount()}const c=document.querySelector(".card-sliders");if(c){const a=c.querySelector(".card-slider__main"),b=c.querySelector(".card-slider__thumbs"),d=new Splide(a,{type:"fade",rewind:!0,pagination:!1,arrows:!1,drag:!1}),e=new Splide(b,{gap:8,rewind:!1,pagination:!1,isNavigation:!0,mediaQuery:"min",breakpoints:{0:{perPage:4,gap:8,direction:"ltr",height:"auto",arrows:!1},576:{perPage:5,gap:8,direction:"ttb",height:"292px",arrows:!0}}});d.sync(e),d.mount(),e.mount(),e.on("updated",function(){e.refresh()})}}function m(){if(document.querySelector("._baguetteBox-gallery")){const a=baguetteBox.run("._baguetteBox-gallery",{}),b=document.querySelectorAll("[data-open-gallery]");b.forEach((b,c)=>{b.addEventListener("click",b=>{b.preventDefault,baguetteBox.show(0,a[c])})})}}function n(){const a=document.querySelector("#map");if(a){function b(){const a=document.createElement("link");a.rel="stylesheet",a.href="leaflet/leaflet.min.css",document.body.appendChild(a);const b=document.createElement("script");b.type="text/javascript",b.src="leaflet/leaflet.min.js",b.onload=d,document.body.appendChild(b)}function c(){console.log("loading Map"),window.removeEventListener("scroll",c),b()}function d(){const b=a.dataset.mapCoords.split(","),c=a.dataset.mapZoom,d=L.map(a,{center:b,zoom:c,scrollWheelZoom:!1,fullscreenControl:!0});d.zoomControl.setPosition("topright");const e=L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>"}).addTo(d),f=L.icon({iconUrl:"./leaflet/marker.svg",iconSize:[32,48],iconAnchor:[16,47]});L.marker(b,{icon:f}).addTo(d)}a.getBoundingClientRect().top<window.innerHeight?b():window.addEventListener("scroll",c)}}function o(){function a(a,b){b.forEach(function(a){a.classList.remove("_active")}),a.forEach(function(a){a.classList.remove("_active")})}function b(a,b){let c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;b[c].classList.add("_active"),a[c].classList.add("_active")}const c=document.querySelectorAll("[data-tabs]");c.forEach(function(c){const d=c.querySelectorAll("[data-tabs-btn]"),e=c.querySelectorAll("[data-tabs-item]");c.addEventListener("click",function(c){const f=c.target;f&&f.closest("[data-tabs-btn]")&&d.forEach(function(c,g){f.closest("[data-tabs-btn]")==c&&(a(d,e),b(d,e,g))})}),a(d,e),b(d,e)})}function p(){const a=document.querySelectorAll("[data-readmore]");a&&a.forEach(a=>{let b=a.dataset.readmore;if(a.scrollHeight<=b)return;a.classList.add("_readmore-init"),a.style.height=b+"px";const c=document.createElement("button");c.setAttribute("type","button"),c.classList.add("readmore-btn"),c.textContent="\u0427\u0438\u0442\u0430\u0442\u044C \u043F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435",a.append(c),c.addEventListener("click",()=>{a.classList.toggle("_visible"),a.classList.contains("_visible")?(a.style.height=a.scrollHeight+"px",c.classList.add("_active"),c.textContent="\u0421\u043A\u0440\u044B\u0442\u044C"):(a.style.height=b+"px",c.classList.remove("_active"),c.textContent="\u0427\u0438\u0442\u0430\u0442\u044C \u043F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435")})})}function q(){const a=document.querySelectorAll("form");if(a){async function b(a){a.preventDefault();const b=c(this),d=new FormData(this)}function c(a){const b=a.querySelectorAll("._required");let c=0;for(let g=0;g<b.length;g++){const a=b[g];f(a),a.classList.contains("email")?d(a)&&(e(a),c++):"checkbox"===a.getAttribute("type")&&!1===a.checked?(e(a),c++):""===a.value&&(e(a),c++)}return c}function d(a){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(a.value)}function e(a){a.classList.add("_error")}function f(a){a.classList.remove("_error")}a.forEach(a=>{a.addEventListener("submit",b)})}}if(function(a){let b=new Image;b.onload=b.onerror=function(){a(2==b.height)},b.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(function(a){!0==a?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}),"loading"in HTMLImageElement.prototype){const a=document.querySelectorAll("img[data-src], source[data-srcset]");for(var r=0;r<a.length;r++)a[r].dataset.src?(a[r].src=a[r].dataset.src,a[r].removeAttribute("data-src")):a[r].dataset.srcset&&(a[r].srcset=a[r].dataset.srcset,a[r].removeAttribute("data-srcset"))}else{const a=document.createElement("script");a.src="js/libs/lazysizes.min.js",document.body.appendChild(a)}window.addEventListener("resize",a),a();const s=document.querySelector("body"),t=document.querySelectorAll("[data-padding-fix]");let u=!0;s.addEventListener("click",a=>{const b=a.target,d=document.querySelectorAll("._active[data-body-click]");d&&!b.closest("[data-body-click]")&&d.forEach(a=>{a.classList.remove("_active"),c()})}),document.addEventListener("DOMContentLoaded",function(){e(),f(),h(),g(),j(),k(),o(),p()}),window.addEventListener("load",function(){const a=document.createElement("script");a.src="js/libs/splide.min.js",a.onload=l,document.body.appendChild(a);const b=document.createElement("script");b.src="js/libs/baguetteBox.min.js",b.onload=m,document.body.appendChild(b),n(),q()}),window.addEventListener("click",d)})();